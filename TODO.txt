NEWGEN
миграция на .core 5 а лучше 6

сайт для аукциона pointauc.ru
сайт для отслеживания акций
написать обсниндзю
добавить сюда тот сайт по фильмам



проверить var context = GlobalHost.ConnectionManager.GetHubContext<ChatHub>();



после добавления задачи, сделать сразу загрузку задач, а не через ререндер?
при выборе проекта получаем его инфу, и только через секунду уходит запрос на получение задач


флаг для токенов что бы с фронта нельзя их было получить, и как следствие переписываение фронта
httponly? - флаг?


!!!!!накатить логи
//проверить кто имеет право удалять и редактировать задачи(только админ?)
//попробовать посоздавать задачи\комменты, и потом удалить учетку из ревью проекта, что как будет выглядеть?
в основные логи добавляю actionName и добавляю время выполнения - это все будет в apihelper
//а вот в логи хаба просто записываю как факт что то то было вызвано
по итогу можно будет их смапить по correlationId - просто гуид в рамках запроса - может быть такое уже есть в httpContext

кеш
роли - а нужны они?
ajax helper переписать на fetch

LoadNotActualStories - не должен грузить все, что то придумать+ сейчас даже нет проверки на доступность
кнопка загрузить прошлые - надо сделать пагинацию? и вообще в отдельном окне сделать истории?

//проверить сохранение комнат планит покера в бд, сохранятся ли пользаки?
//таймер комнаты сделать что бы был не просто так
нужно запретить любые действия с комнатой у которой закончился таймер(кроме продления таймера\сохранения\удаления) - можно сделать чисто что бы пользаков заставить ее продлевать, а так смысла немного
//!!!впринципе могу запретить загрузку румы из бд при любых действиях кроме создания\входа - уже есть
//и тогда, я лочу руму, сохраняю ее в бд, удаляю из оперативы, и если пользаки что то там редачили просто забить на это тк они редачат после тайминга


изменение пароля в комнате
вроде ок - удаление стори прям выпиливает из бд без сохранения румы
ошибка отображаетс на ui при неудачном рефреше токены и открытии menu разлогиненым
//а комментах в ревью туле прятать кнопки которые не актуальны на данный момент(типо сохранить без внесенных изменений и тд)


не точто бы нужно, так можно по рофлу - сделать перетаскивание сторей, выше ниже - 
//ошибки в ревью проекте вынести в контейнер+константы

не понятно о чем речь - сейчас нет конкурентности вообще, надо допилить
//в mainRepo методы можно сделать протектед, так я уйду от тысячи ссылок на метод, или там это интерфейсом фиксится? - можно просто скопировать в конкретный ин


DAL модели можно сделать partial, тогда я смогу их положить в разные сборки?
тоесть есть app.dal в ней будут все проперти нужные а в основном dal проекта будет partial с навигационными
это интересно но тоже есть проблемы


//создать комнату покера с русским названием
//через форму подключиться можно, через обновление страницы - вроде как нет


==============сайт для ревью
в код ревью апе сейчас backModels прорасли на ui плотно, надо фиксить
нужен прелоадер

//очистку
//добавить во все классы sealed - все что не наследуется
нормально реализовать роли+ поправить права, сейчас могут плохо работать
нужны логи не только на исключения но и трейс
а errorContainer не должен быть потокобезопасным? - вроде как должен быть
css раскидать под новую архитектуру
для пользаков проекта нужны еще роли, допустим что бы мог создавать задачи но не мог удалить проект

архитектуру фронта - наверное нужна папка приложения и вней уже подпапки components model и тд
для писем добавить бд?
можно ли добавить АД авторизацию?
запретить удалять последнего админа
редактирование названия проекта
//сделать всплывающие окна - например для отображения пользаков
//комментарии тоже может быть? + добавление задачи
пагинация - +написать еще 1 дополнительно, ту которую хотел изначально
отображение что комментарий был изменен

сейчас пагинация работает с задержкой 1.5 сек, как бы уйти от этого
побить на 2 useeffect? но вроде так нельзя

//htmlencoder break new line symbol
добавить свагер
то что сейчас некоторые сервисы ходят в чужие репо - такое
при создании коммента с переносом строк, он поломается
возможность изменить название проекта
на получени списка задач(при фильтрации) надо что то придумать что бы не уходили параллельно запросы, как то отменить уже существующий бы
добавить изменение урла при переходе на проект
прикрутить кеш
проверить что бы удаление ничего не удаляло а проставляло флаг
//добавить редакс


но воспроизвести сейчас не могу
планинг покер баг который вешает все: - по всей видимости плавающий баг
создать руму от авторизованного  пользака, при нахождении в ней обновить страницу



если попробовать зайти по http(локально) то страница просто в бесконечной загрузке и ничего не происходит, по https норм. нужен редирект или что то еще. а на ажуре наоборот только http работает

нет возможности выйти из учетки
при скачивании файла русские буквы видимо не работают. скачивается норм, но в excel отображается неправильно 
показать новый шаблон — отображается чекбокс на удаление картинки
а смогу ли я адекватно поменять например возвращаемый тип в апи на xml в менюхе?

картинки надо обрезать и отдавать в разные места тех размеров которые нужны
+убирать метоинфу
когда серв не отвечает нормально, можно попробовать из кеша браузера поднимать словарь например

зашел неавторизованным на /menu рефреш токена не прошел, снизу ошибка "произошла неизвестная ошибка", хотя вернулось 401 с ошибкой авторизации
когда отправляем запрос на серв надо проверять какие кнопки его могут сломать и мб их лочить
кнопка что бы скрыть список слов

думаю не совсем правильно--в компоненте карточки хранить последний показанный id(краты) при рендере сравнить его, ели изменен то обнляем весь стейт(или то что нужно)
это может помочь перетащить часть свойст внуть краточки



???закешировать изображение браузер

отображать только те кнопки которые можно нажать прям сейчас
хорошо бы добавить какое то озвучивание, может ссылку на перевод
нужно поле для ввода, вводишь слово и показывает правильно или нет


делать сеты слов? типо просто список, в список можно добавить и удалить
{
действия с сетом
создать сет
удалить слово из сета
добавить слово в сет(думаю при редактировании слово нужна какая то логика что бы добавлять удалять принадлежность к сетам)
--
на странице быстрого создания сделать выбор сета или создание нового
создание сетов - отдельная страница ?
на карточке множественный дроплист для выбора сетов? звучит неудобно
страница редактирования сетов, похоже на страницу слов. справа список сетов, слева

перед экраном "отображение всех слов", сделать экран выбора сета, выбираешь сет и загружаются только эти слова, можно выбрать сет "все слова"
добавляем кнопку "удалить из сета", доступна только если выбран сет
}


загрузка файлом

https://localhost:44305/menu-app/detail/1 - порастягивать, при маленьком экране "файл не выбран" выходит за границы

ошибки модели отрисовываются на англ  ошибка при реге —»The Password field is required

загрузка файла с словами очень опасное место, проверять формат, размер файла мб побольше разрешить(хотя хз), надо обязательно каждую строку проверить на иньекции всякие


когда отправляю запрос на редач(мб и на создание) нужна какая то заглушка
//при загрузке картинок наверное базовое имя сохранять не надо
сделать возможность открывать картинку(приближать фул экран)
транзакции на редактирование данных, там где надо
потестить удаление картинок и в блобе и локально
валидация всех картинок и файлов: вес, расширение, чистить метаинфу
нужна еще и выгрузка в файл
проверить при удалении статьи удалятся ли кратинки( и бд и хранилище)

!
//после регистрации ничего не произошло, меня никуда не перекинуло
везде на фронте и в апи menu->menuApp

сделать само меню на котором можно выбирать апы

разобраться как вытащить с ажуры например логи, как костыль копировать в блоб
надо как то логи из докера доставать, когда он будет задеплоен


-дописать return типы - как пример на detail
добавить логгер
добавить обработку ошибок
логгер пишет все запросы, надо бы убрать?
тесты
сваггер
валидация картинок - вес названия расширение
global.json - нужен или нет? создавался для докера

!!
WriteReturnResponseAsync - проблема такой штуки в том что это слишком слабосвязанно
допустим я изменил 1 из return типов и я даже не могу узнать где он используется, фабрики мб оставить но вызывать явно?





если что то сломается IWebHostEnvironment
то смотреть сюда https://docs.microsoft.com/en-us/aspnet/core/migration/22-to-30?view=aspnetcore-3.1&tabs=visual-studio#framework-reference





#plinitpoker


//запретить обсерверам голосовать - ui+ бэк
//в репозитории и интерфейсе все roomname привести к 1 виду
//добавляются роли пользователей, их можно назначать, админ, обсервер
//потестить изменение имени у пользователя в руме
//сейчас получается useeffect с пустым значением нельзя юзать для загрузки данных через хаб потому что
//на момент первого рендера он еще не подключен, возможно в пропсах делать свойство hubIsConnected и на него вешать уже //также через useeffect все что надо
        //начать голосование
        //закончить с подсчетом голосов мин макс среднее
//подсветка min max не работает
//парсить урл на странице index(вход в руму) если там есть имя комнаты то (меняем урл на обычный индекс, а надо ли?) и //имя комнаты подставляем в форму
//когда подключаемся к room в урле может быть название комнаты, если оно есть и комната без пароля то отображаем ее, //если нет то делаем onclick по новому link на index с названием комнаты в урле и просим ввести пароль(сообщение //отобразить или что то такое)
//вход в руму сверстать
//сделать урл комнаты в урл, по нему можно будет подключиться, 
//сделать при создании кнопку "доступ по ссылке"
//потестить чекбокс сокрытия оценок, потестить отображение оценок у обычных пользователей когда кто то проголосовал и нет
//        todo нужна кнопка "обновить список пользователей?"
        //когда голосование закрыто можно подсветить пользователей у которых минимум и максимум
//        alert you kicked отображается только у создателя
//        справа в списке можно отобразить свой голос даже при открытом голосовании
//показывать всем кто проголосовал, не показывать сами голоса
 //добавление ролей, например визитор, что бы он не смог голосовать
//возможность админу скрывать значения оценок, галку
//подсвечить тех кто проголосовал и кто нет
//сейчас можно выбрать текущей сторю и изменить ее
//у всех пользователей кроме изменившего текущая сторя останется старой
//походу стейт ...Change надо выносить из компонента выше
//название комнаты все таки попробовать в куки засетать и дропать юзера при дисконнекте?
//спрятать connectionId пользователей
//CurrentUserIsAdmin - на фронте не работает тк сравнивает не те id из за этого всегда false
//123 - отдаю id пользователя
//с 2го пользака попробовать проголосовать, голос не пророс
//при загрузке румы, надо получать еще и истории + получать текущую историю
//storiesListRender - в отдельный компонент
//поменять id пользователей на гуиды, и уже их отдавать клинтам
//при авторизации в основном приложении, надо доставать id пользователя, хранить еще и его, и при подключении к руме //смотреть есть ли он уже и менять id подключения, если id не нулевое то старого пользователя отключаем и отправляем ему //уведомление
//SaveRoom - надо проверить комната из бд или нет, если нет то добавляем, если да то обновить все данные
//!!!!!!!GetRoomFromDbObject SaveRoom GetRoomDbObject
//временные истории, которые не сохранены в бд походу надо им id сделать гуидом, что бы не конфликтовали с данными из бд
//или может еще как то это обойти
//когда сохраняем комнату, с пользователями надо что то придумать, похоже нужен еще в памяти список андминов, если кого //то убираем из админов то обновлять его, добавляем тоже добавлять и по списку уже хранить в памяти и по нему обновлять //бд
//список можно оставить 1, проверять по connectionid(при загрузке румы грузятся все пользаки, а текущих можно по //коннекшену определить)
//я создаю комнату, не сохраняю, работаю с ней, если кто то попробует создать руму с таким же именем то не получится тк //рума хранится в словаре оперативы
//посмотреть SaveRoom если работает так как сейчас то переписать под такой стиль все что там сейчас
//создать комнату, сохранить, рестарт серва, подключиться по прямой ссылке на руму, не получится. обновить страницу, //зайдет, еще раз обновить страницу,/возможно этот кусок пофикшен// зайдет но как user
//блокировки надо переписать, видимо на SemaphoreSlim //https://stackoverflow.com/questions/19659387/readerwriterlockslim-and-async-await
//алерт о сохранении комнаты появляется намного реньше чем комната на самом деле сохранена
//загрузка выполненных сторей
//понажимать много раз загрузить истории, посмотреть что будет в стейте фронт\бэк
//на фронте прятать кнопку загрузки историй после того как она была нажата
//рефактор хаба, повыносить все либо в репо либо в сервис

//удаление комнаты?
//выйти из комнаты?
//когда авторизованный пользователь открывает окно ввода логина и комнаты, в логин можно подставлять его имя из учетки
//при подключении к существующей комнате если ее нет в оперативке, лезем в бд и проверяем еще и там
//при подключении к руме запрашивать всю инфу а не только статус
 //       а безопасно ли показывать юзерам чужие id подключений? если получать их в контроллере то нет 100%
       -- todo методы которые в Room надо вынести в репо, GetValueFromRoomAsync тоже
  //     при подключении к "законченному" голосованию не отображаются результаты, надо бы в контроллер закинуть
 +-       надо как то отписываться от событий, например сейчас если зайти в руму, потом справа сверху перейти на 
  // надо чистить то что приходит от юзера, уже реализовано просто прикрутить
      //алерты что бы удалялись по таймауту
//руму надо сохранять в бд а не теперь
//и там надо сохранять истории и тд
//в комнате есть истории, они могут завершаться и тд
//добавить кнопку "сохранить" на руму? только для фул авторизованных пользователей?
//есть список историй,
//возле каждой справа кнопки  - сделать текущей, удалить, сохранить изменения(кнопка у текущей стори
//нужна какая то вкладка - выполненные истории. там по дефолту отображаются только те что были сегодня, но есть кнопка //загрузить все
//зайти с 2х учеток, "выполнить" сторю, посмотреть как отрисуется, проблема с оценкой и датой
//при создании румы авторизованным пользователем, что если токен будет просрочен? надо как то отправить ответ на рефреш
//в хабе при просроченном токене надо что то отдать на фронт что бы он рефрешнулся

--//при создании румы надо в руме сохранить id создателя? хотя уже должен быть список админов


//все то что сейчас в репозитории надо перенести в сервис
//а в репо будет работа с бд
//подключился к законченному голосованию voteInfo уже другой, надо не учитывать в результате людей без голосов
//при отключении авторизованного пользователя нельзя передавать админку!

//нужна кнопка сохранить комнату
//нужна кнопка загрузить из бд истории

//возле названия румы можно нарисовать большой красный восклицательный знак и при наведении писать инфу о том что рума //одноразовая и лучше бы авторизоваться
+-пароль в комнате надо зашифровать

//модели бд:
//!room
//!users - только для админов(сейчас), админов сюда надо закидывать\удалять сразу при изменении а не по кнопках //сохранить и тд, потому что пользователь может выйти
//!stories
//авторизоваться, зайти в существующую руму, имя отобразится enter_your_name -- userNameLocalState перетащить на уровень //выше и в useEffect [props.AuthInfo.AuthSuccess])
//есть кнопка изменения имени, при ее нажатии сетать выше в стейт новое значение, и новый эфект на изменение имени и //только в нем идти в апи
//выставил роль обсервера, оценка отображается как оценка: отсутствует , должно быть без права голоса
//проголосовал, потом выставил роль обсервера, вообще ничего не сбросилось
//похоже что в CanVote this указывает на старый экземпляр, надо поставить там log и как варик попробовать поменять на //function

//проголосовать, добавить обсервера, удалить, оценка - скрыта
//я получаю дефолтный объект пропсов(без данных) - ront.UserRoleChanged
//попытаться зайти в несуществующую руму по прямой ссылке, перекинет на страницу входа но не проставится название румы

//на фронте название коннектов к хабу тоже вынести в константы или типо того + в контроллер

//удаление сторей прям перепроверить, возможно логическая ошибка
//_jsonContentType - как то должно быть переопределяемым через наследование
//сериализатор - тоже
//virtual свойство по нему из фабрики возьму то что выше
//фабрику по return type вообще вынести вверх, буду получать сразу объект
//"retry plz" - убрать вообще
//SetConcurentValue - должен исключения также записывать в контейнер, если получится
//важно потому что много где сломается сейчас из за того что UpdateIfCan прикидываю action
//остановился на StartVote - надо занести в сервис

//ConnectedToRoomError - посмотреть что делает на фронте, возможно на беке в части мест повыпиливать
//NotifyFromServer на фронте или переписать или добавить новый для errorObject

//новый NotifyFromServer который принимает errorObject ищется по new Notify() { Text = "_errorService"
//то что используется tryGetRoom надо обработать возвращемой null                 _errorService.AddError(_errorContainer.TryGetError//(Consts.PlanitPokerErrorConsts.RoomNotFound));
//можно какой то алерт сделать для админа о том что голосование закончено
//сейчас он отображается ошибкой, если перкликивать кучу раз карточку отобразится кучу раз
//возможно будет намного проще и лучше перетащить его на фронт
//логи насетапить в таблицу

//подписываюсь на событие по закрытию окна
//в него вызываю заранее сохраненный метод, который сохраню при подключении к руме например
//у него будет доступ до названия румы и id пользака в компоненте
//дальше просто вызываю что то на серве что эквивалентно дисконекту, сам дисконект возможно стоит выпилить тк может только ломать из //за неактуальных данных
//куки тогда может можно вообще убрать





todo now
на ui вообще никак нет alivetime

сервис hangFire
hangfire - для удаления комнат, сделать отдельным сервисом. все что связано с временем жизни комнат доделать
в jwt либо надо докинуть комменты на интерфейсы, + как то разгрести, дописать адекватный мануал к использованию
перевод на net 5
сваггер


при удалении комнаты по истечении времени жизни надо еще и в хабе ее удалить как то
при сохранении румы надо вообще проверять а можно ли ее сохранить(если ли нормальные пользаки с админкой) - схожая логика должна быть в методе выдачи\удаления ролей


при дисконнекте от хаба можно записать id коннекта и при обновлении страницы например ее прочитать и сопоставить с пользаками, тоесть можно будет не авторизованным обновлять страницу

asNoTracking
на async еще можно ту штуку которая configureAwait
добавить индексы?

перепроверить сохранение\загрузку бд

то что сейчас как error надо сделать notify либо сделать отдельный метод под него(что мб получше даже)
//добавить нормальное отображение ошибок с бека
рефакторинг по структуре проектов

локализация, хотя бы бэк



//"retry plz" -- ошибку поменять на что то получше
может еще куда нибудь прикрутить кафку или что нибудь такое?

//UpdateIfCan+UpdateUserIfCan - добавить errorService?

//все что ErrorConsts.SomeError логировать?
//PlanitPokerErrorConsts - для ошибок нужен префикс типо planit_poker_{error}







статус комнаты думаю лучше засунуть в roomInfo?






+-надо css прогнать через css-prefixer
//нужна карточка чашки чая - как обходной вариант просто не голосовать
в конце голосования можно еще ники написать тех кто min max а не только цветом выделять
то что в правой колонке (имена роли и тд) выходит за границы блока
//проверить, если много историй то все ли они в скролящемся блоке


room компонент надо раскидать по компонентам, слишком большой вырос
storiesSection - тоже раскидать

когда создаешь руму, и токен не получается обновить, надо что то пользаку сказать, спросить уверен ли он что хочет создать руму в таком режиме. или может в хедере сайта(+стейт) потереть хотя бы инфу о том что он залогинен
то что рума создается не авторизованной думаю не критично тк ее мжно удалить и перелогиниться

"произошла неизвестная ошибка" - при неавторизованном пользаке 
попробовать зайти в руму с паролем по прямой ссылке


комнаты которые создал авторизованный пользователь должны сохраняться в бд по истечении жизни, комнаты которые создал аноним должны удаляться



кнопки в настройках частично можно сделать иконками, типо скрыть - глаз, обновить - знак обновления



+-отписка от событий хаба
то как в контроллере получаю id пользователя прям такое
обращение в хаб вынести в контроллер?
        TODO !!!!!!!!!!!надо потестить многопоточность, могу ли я без блокировки стучаться к room что бы получить lockobj или его надо выносить
        настроить таймауты у сигналр + https://github.com/dotnet/aspnetcore/issues/20151
        https://docs.microsoft.com/ru-ru/aspnet/signalr/overview/guide-to-the-api/handling-connection-lifetime-events

        todo очистка старых комнат
        если 2 раза быстро нажать подключение к комнате, все норм отработает?
         есть места где можно сделать что то типо транзакций(или руками может откатывать критичные данные
страницу логина а в это время админ этого юзера кикнет, у него будет рефреш страницы тк он подписан
        сокеты в ажуре отваливаются! все работает через какие то ивенты сервера
       
какой то
время голосования






//редактирование сторей должно быть доступно только админу




поставить на бэке точку останова, серв перестанет пинговать клиент, клиент отвалится с ошибкой, и сокеты перестают работать, сделать на такой случай хотя бы алерт какой нибудь или может быть кнопку реконекта?







https://www.npmjs.com/package/aspnet-signalr-reactjs




при коннекте к руме все таки попробовать оставлять старое имя


TryGetRoom -поднимает из бд в кеш руму даже если мы не знаем пароль, как то ну такое

//ValidateString(roomName).ToUpper(); --- вынести в NormalizeRoomName
//роли надо хранить нормально а не так как ща через запятую строкой, мб жсон?
//вроде ок -проверить удалени всех сущностей при удалении комнаты - прям фул с проверкой бд
//проверить при удалении румы все остальное потрется или нет. пользователи и истории

нужны сообщения об ошибках, например не удалось сохранить руму "почему"?


от неадмина, когда меняю оценку надо менять ее еще и в списке
авторизованный пользаком но НЕ админом зайти в комнату, проголосовать обновить страницу, голос отобразится на ui?


CreateRoomWithUser - ошибка о том что рума создана


+-при кике\выходе юзера я не удаляю его из румы самого сигнала, но отправляю я обычно все именно через нее, такое

проверить отписку от событий хаба


обработку ошибок можно сделать через errorService
сейчас в хедере там где фото должно быть нет обновления токена?


TokensReturnFactory - перетащить куда то попонятнее на бэке. вцелом глянуть архитектуру бэка может что поправить



--зайти в комнату авторизованным изменить имя, обновить страницу, имя сбросится - но по идеи это норм
//челу который проголосовал изменить роль на обсервер, все оценки останутся


+-удаление истории, у меня же могут быть загруженные из бд истории которые можно по идеи удалять, проверить есть ли бэк под это дело

//создать историю, выполнить, создать еще 1, выполнить, вторая будет в списке отображаться после первой, нужна какая то //сортировка. бэк\фронт?
//на ui добавить сортировку



надо бы проверить такие кейсы, например отправляю запрос на изменение каких либо данных, и после этого, в том же запрос идет какое то еще действие, это второе действие падает с ошибкой, получится что фронт не получит инфу о том что первое действие сохранено

при запросах на апдейт если произошла ошибка может какое то событие на фронте делать которое перезагрузит ui?
если так подумать, то можно прикрутить какое то хранилище, например редис и тогда получится сделать транзакции
да хранить в оперативке очень вкусно, но транзакции все таки слишком хороши

при логине хоть какую то анимацию сделать, что бы страница не висела

при подключении к комнате если у нее нет "хозяина" перекидывать на него. а не заработает ла автоматом? при сохранении ромы просто смотреть если ли залогиненый админ как при выходе сейчас

кейс на ошибку
создать комнату, выйти(или дисконект не уверен) создать другую комнату, закрыть вкладку OnDisconnectedAsync хаба будет старое название комнаты. возможно установку кук надо повыше в обработчике поставить?


начать голосование, проголосовать всеми пользаками, выдать админку с его страницы с списке пользаков будут все оценки скрыты
также если другой учеткой изменить голос, он прорастет а потом удалить админку и потом другой учеткой изменить свой голос опять, то останется старый, при изменении некоторых ролей надо roomInfo подтягивать 





включил </React.StrictMode>



всю остальную апу надо переписать на cloneDeep



!!!!!!!!!!!!!!!!!!!!!!! это скорее всего пофикшено удалением кук, но попробовать не авторизованным зайти еще
https://zsuz-menu.azurewebsites.net/planing-poker
A component is changing a controlled input to be uncontrolled. This is likely caused by the value changing from a defined to undefined, which should not happen. Decide between using a controlled or uncontrolled input element for the lifetime of the component. More info








????????????????????????????
задублировалось значение в массиве ролей. для этого выбрать в списке ролей обсервер, раз 10 надать на карточку выбора оценки и потом на добавить роль, в списке ролей 2 обсервера. вот почему это происходит  --- setstate react invoked two times
https://stackoverflow.com/questions/62106596/reactjs-setstate-being-called-twice-in-a-function-called-once-why
https://github.com/facebook/react/issues/12856

еще прикол с этим, оказывается object.assign & ... не deepclone и это жестко может сломать стейт
https://stackoverflow.com/questions/48710797/how-do-i-deep-clone-an-object-in-react
????????????????????????????







C:\Users\Stanislav_Avdosev\AppData\Roaming\npm\npx -> C:\Users\Stanislav_Avdosev\AppData\Roaming\npm\node_modules\npm\bin\npx-cli.js
C:\Users\Stanislav_Avdosev\AppData\Roaming\npm\npm -> C:\Users\Stanislav_Avdosev\AppData\Roaming\npm\node_modules\npm\bin\npm-cli.js








https://docs.microsoft.com/ru-ru/ef/core/modeling/generated-properties?tabs=fluent-api

migrationBuilder.Sql(@"CREATE TRIGGER [MainLogTable_UPDATE] ON [dbo].[MainLogTable]
            AFTER UPDATE
            AS
                BEGIN
            SET NOCOUNT ON;

            IF((SELECT TRIGGER_NESTLEVEL()) > 1) RETURN;

            DECLARE @Id uniqueidentifier

            SELECT @Id = INSERTED.Id
            FROM INSERTED

            UPDATE dbo.MainLogTable
            SET EnteredDate = GETDATE()
            WHERE Id = @Id
            END");






  migrationBuilder.Sql(@"
            DROP TRIGGER  IF EXISTS  [MainLogTable_UPDATE]   
            ON ALL SERVER");















